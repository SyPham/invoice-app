!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{iwVf:function(t,i,o){"use strict";o.r(i),o.d(i,"InvoiceModule",function(){return z});var a,c,l=o("jcQU"),r=o("SVse"),d=o("s7LF"),b=o("GJ+o"),s=o("iInd"),u=o("6mwz"),h=o("8Ytj"),g=o("keCR"),v=o("Dg8+"),f=o("HBeN"),p=o("8Y7J"),m=o("ed8r"),y=((c=function(){function t(n,i,o,a,c,l){e(this,t),this.invoiceService=n,this.alertify=i,this.containerService=o,this.companyService=a,this.route=c,this.router=l,this.invoice={},this.statusData=["Draft DOE","Pending Shipment","Done"],this.fieldsCompany={text:"name",value:"id"},this.fieldsContainer={text:"containerNo",value:"id"}}return n(t,[{key:"ngOnInit",value:function(){this.invoice={id:0,invoiceNo:"",other1:"",other2:"",carrier:"",description:"",vesselName:"",statusCode:"",containerID:null,containerNo:"",blno:"",companyID:null,eta:null,etd:null},this.getAllContainer(),this.getAllCompany()}},{key:"validator",value:function(){return void 0===this.invoice.companyID?(this.alertify.warning("Please select a company!"),!1):""===this.invoice.invoiceNo?(this.alertify.warning("Please enter invoice No.!"),!1):void 0===this.invoice.containerID?(this.alertify.warning("Please select a container!"),!1):void 0!==this.invoice.statusCode&&""!==this.invoice.statusCode||(this.alertify.warning("Please select a status!"),!1)}},{key:"clearForm",value:function(){this.invoice={},this.containerID=null,this.companyID=null,this.status=null}},{key:"getAllContainer",value:function(){var e=this;this.containerService.getAllContainer().subscribe(function(t){e.containerData=t})}},{key:"getAllCompany",value:function(){var e=this;this.companyService.getAllCompany().subscribe(function(t){e.companyData=t})}},{key:"create",value:function(){var e=this;this.invoice.containerID=this.containerID,this.invoice.companyID=this.companyID,this.invoice.statusCode=this.status,this.validator()&&this.invoiceService.create(this.invoice).subscribe(function(){e.alertify.success(f.c.CREATE_SUCCECCFULLY),e.back(),e.clearForm()},function(t){return e.alertify.error(f.c.CREATE_FAILED)})}},{key:"back",value:function(){this.router.navigateByUrl("/tracking/invoice")}},{key:"onChangeStatus",value:function(e){this.status=e.value,this.invoice.statusCode=this.status}},{key:"onChangeCompany",value:function(e){this.companyID=e.itemData.id,this.invoice.companyID=this.companyID}},{key:"onChangeContainer",value:function(e){this.containerID=e.itemData.id,this.invoice.containerID=this.containerID}}]),t}()).\u0275fac=function(e){return new(e||c)(p.Lb(h.a),p.Lb(g.a),p.Lb(v.a),p.Lb(u.a),p.Lb(s.a),p.Lb(s.c))},c.\u0275cmp=p.Fb({type:c,selectors:[["app-invoice-add"]],decls:87,vars:22,consts:[[1,"card"],[1,"card-body"],[1,"row"],[1,"col-md-4"],[1,"form-group"],["for","Company",1,"font-weight-bold"],["placeholder","Select a company",3,"dataSource","ngModel","fields","allowFiltering","ngModelChange","change"],["companyDropdownlist",""],["for","BL",1,"font-weight-bold"],["type","text","placeholder","Enter the BL No.","id","BL",1,"e-input",3,"ngModel","ngModelChange"],["for","carrier",1,"font-weight-bold"],["type","text","placeholder","Enter the carrier name","id","Carrier",1,"e-input",3,"ngModel","ngModelChange"],["for","Vessel",1,"font-weight-bold"],["type","text","placeholder","Enter the vessel name","id","Vessel",1,"e-input",3,"ngModel","ngModelChange"],["for","No",1,"font-weight-bold"],["type","text","placeholder","Enter the invoice No.","id","No",1,"e-input",3,"ngModel","ngModelChange"],["for","Invoice",1,"font-weight-bold"],["placeholder","Chooes the invoice date",3,"value"],[1,"col-md-12"],["for","description",1,"font-weight-bold"],["type","text","placeholder","Enter the description of goods","id","description",1,"e-input",3,"ngModel","ngModelChange"],["for","ETD",1,"font-weight-bold"],["placeholder","Select ETD",3,"ngModel","ngModelChange"],["for","ETA",1,"font-weight-bold"],["placeholder","Select ETA",3,"ngModel","ngModelChange"],["for","Other1",1,"font-weight-bold"],["type","text","placeholder","Enter the other 1","id","Other1",1,"e-input",3,"ngModel","ngModelChange"],["for","Other2",1,"font-weight-bold"],["type","text","placeholder","Enter the other 2","id","Other2",1,"e-input",3,"ngModel","ngModelChange"],["for","containerNo",1,"font-weight-bold"],["type","text","placeholder","Enter the number of container","id","containerNo",1,"e-input",3,"ngModel","ngModelChange"],["for","Container",1,"font-weight-bold"],["placeholder","Select a container",3,"dataSource","ngModel","fields","allowFiltering","ngModelChange","change"],["containerDropdownlist",""],["for","status",1,"font-weight-bold"],["placeholder","Select the satus",3,"dataSource","ngModel","allowFiltering","ngModelChange","change"],["statusDropdownlist",""],[1,"row","control-panel"],[1,"col-lg-12","d-flex","justify-content-center","align-items-center"],[1,"btn","btn-warning","btn-default","mr-1",3,"click"],[1,"fa","fa-backward",2,"margin-right","5px"],[1,"btn","btn-info","btn-default","mr-1",3,"click"],[1,"fa","fa-remove",2,"margin-right","5px"],["type","button",1,"btn","btn-primary","btn-default",3,"click"],[1,"fa","fa-floppy-o",2,"margin-right","5px"]],template:function(e,t){1&e&&(p.Rb(0,"div",0),p.Rb(1,"div",1),p.Rb(2,"div",2),p.Rb(3,"div",3),p.Rb(4,"div",4),p.Rb(5,"label",5),p.wc(6,"Company"),p.Qb(),p.Rb(7,"ejs-dropdownlist",6,7),p.Yb("ngModelChange",function(e){return t.companyID=e})("change",function(e){return t.onChangeCompany(e)}),p.Qb(),p.Qb(),p.Qb(),p.Rb(9,"div",3),p.Rb(10,"div",4),p.Rb(11,"label",8),p.wc(12,"BL No."),p.Qb(),p.Rb(13,"input",9),p.Yb("ngModelChange",function(e){return t.invoice.blno=e}),p.Qb(),p.Qb(),p.Qb(),p.Rb(14,"div",3),p.Rb(15,"div",4),p.Rb(16,"label",10),p.wc(17,"Carrier Name"),p.Qb(),p.Rb(18,"input",11),p.Yb("ngModelChange",function(e){return t.invoice.carrier=e}),p.Qb(),p.Qb(),p.Qb(),p.Rb(19,"div",3),p.Rb(20,"div",4),p.Rb(21,"label",12),p.wc(22,"Vessel Name"),p.Qb(),p.Rb(23,"input",13),p.Yb("ngModelChange",function(e){return t.invoice.vesselName=e}),p.Qb(),p.Qb(),p.Qb(),p.Rb(24,"div",3),p.Rb(25,"div",4),p.Rb(26,"label",14),p.wc(27,"Invoice No."),p.Qb(),p.Rb(28,"input",15),p.Yb("ngModelChange",function(e){return t.invoice.invoiceNo=e}),p.Qb(),p.Qb(),p.Qb(),p.Rb(29,"div",3),p.Rb(30,"div",4),p.Rb(31,"label",16),p.wc(32,"Invoice Date"),p.Qb(),p.Mb(33,"ejs-datepicker",17),p.Qb(),p.Qb(),p.Rb(34,"div",18),p.Rb(35,"div",4),p.Rb(36,"label",19),p.wc(37,"Description of goods"),p.Qb(),p.Rb(38,"textarea",20),p.Yb("ngModelChange",function(e){return t.invoice.description=e}),p.Qb(),p.Qb(),p.Qb(),p.Rb(39,"div",3),p.Rb(40,"div",4),p.Rb(41,"label",21),p.wc(42,"ETD"),p.Qb(),p.Rb(43,"ejs-datepicker",22),p.Yb("ngModelChange",function(e){return t.invoice.etd=e}),p.Qb(),p.Qb(),p.Qb(),p.Rb(44,"div",3),p.Rb(45,"div",4),p.Rb(46,"label",23),p.wc(47,"ETA"),p.Qb(),p.Rb(48,"ejs-datepicker",24),p.Yb("ngModelChange",function(e){return t.invoice.eta=e}),p.Qb(),p.Qb(),p.Qb(),p.Rb(49,"div",3),p.Rb(50,"div",4),p.Rb(51,"label",25),p.wc(52,"Other 1"),p.Qb(),p.Rb(53,"input",26),p.Yb("ngModelChange",function(e){return t.invoice.other1=e}),p.Qb(),p.Qb(),p.Qb(),p.Rb(54,"div",3),p.Rb(55,"div",4),p.Rb(56,"label",27),p.wc(57,"Other 2"),p.Qb(),p.Rb(58,"input",28),p.Yb("ngModelChange",function(e){return t.invoice.other2=e}),p.Qb(),p.Qb(),p.Qb(),p.Rb(59,"div",3),p.Rb(60,"div",4),p.Rb(61,"label",29),p.wc(62,"No. of container"),p.Qb(),p.Rb(63,"input",30),p.Yb("ngModelChange",function(e){return t.invoice.containerNo=e}),p.Qb(),p.Qb(),p.Qb(),p.Rb(64,"div",3),p.Rb(65,"div",4),p.Rb(66,"label",31),p.wc(67,"Container"),p.Qb(),p.Rb(68,"ejs-dropdownlist",32,33),p.Yb("ngModelChange",function(e){return t.containerID=e})("change",function(e){return t.onChangeContainer(e)}),p.Qb(),p.Qb(),p.Qb(),p.Rb(70,"div",3),p.Rb(71,"div",4),p.Rb(72,"label",34),p.wc(73,"Status"),p.Qb(),p.Rb(74,"ejs-dropdownlist",35,36),p.Yb("ngModelChange",function(e){return t.status=e})("change",function(e){return t.onChangeStatus(e)}),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.Rb(76,"div",37),p.Rb(77,"div",38),p.Rb(78,"a",39),p.Yb("click",function(){return t.back()}),p.Mb(79,"span",40),p.wc(80," Tr\u1edf V\u1ec1"),p.Qb(),p.Rb(81,"a",41),p.Yb("click",function(){return t.clearForm()}),p.Mb(82,"span",42),p.wc(83," Nh\u1eadp L\u1ea1i"),p.Qb(),p.Rb(84,"button",43),p.Yb("click",function(){return t.create()}),p.Mb(85,"span",44),p.wc(86," L\u01b0u "),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.Qb()),2&e&&(p.zb(7),p.gc("dataSource",t.companyData)("ngModel",t.companyID)("fields",t.fieldsCompany)("allowFiltering",!0),p.zb(6),p.gc("ngModel",t.invoice.blno),p.zb(5),p.gc("ngModel",t.invoice.carrier),p.zb(5),p.gc("ngModel",t.invoice.vesselName),p.zb(5),p.gc("ngModel",t.invoice.invoiceNo),p.zb(5),p.gc("value",t.invoice.invoiceDate),p.zb(5),p.gc("ngModel",t.invoice.description),p.zb(5),p.gc("ngModel",t.invoice.etd),p.zb(5),p.gc("ngModel",t.invoice.eta),p.zb(5),p.gc("ngModel",t.invoice.other1),p.zb(5),p.gc("ngModel",t.invoice.other2),p.zb(5),p.gc("ngModel",t.invoice.containerNo),p.zb(5),p.gc("dataSource",t.containerData)("ngModel",t.containerID)("fields",t.fieldsContainer)("allowFiltering",!0),p.zb(6),p.gc("dataSource",t.statusData)("ngModel",t.status)("allowFiltering",!0))},directives:[l.a,d.h,d.k,d.b,m.a],styles:[""]}),c),C=((a=function(){function t(n,i,o,a,c,l){e(this,t),this.invoiceService=n,this.alertify=i,this.containerService=o,this.companyService=a,this.route=c,this.router=l,this.invoice={},this.statusData=["Draft DOE","Pending Shipment","Done"],this.fieldsCompany={text:"name",value:"id"},this.fieldsContainer={text:"containerNo",value:"id"}}return n(t,[{key:"ngOnInit",value:function(){this.invoiceID=this.route.snapshot.params.invoiceID,this.getById(),this.getAllContainer(),this.getAllCompany()}},{key:"clearForm",value:function(){this.invoice={},this.containerID=null,this.companyID=null,this.status=null}},{key:"getById",value:function(){var e=this;this.invoiceService.getById(this.invoiceID).subscribe(function(t){e.invoice=t,e.containerID=e.invoice.containerID,e.companyID=e.invoice.companyID,e.status=e.invoice.statusCode,console.log(t)})}},{key:"getAllContainer",value:function(){var e=this;this.containerService.getAllContainer().subscribe(function(t){e.containerData=t})}},{key:"getAllCompany",value:function(){var e=this;this.companyService.getAllCompany().subscribe(function(t){e.companyData=t})}},{key:"update",value:function(){var e=this;this.invoice.containerID=this.containerID,this.invoice.companyID=this.companyID,this.invoice.statusCode=this.status,this.invoiceService.update(this.invoice.id,this.invoice).subscribe(function(){e.alertify.success(f.c.UPDATE_SUCCECCFULLY),e.back()},function(t){return e.alertify.success(f.c.UPDATE_FAILED)})}},{key:"back",value:function(){this.router.navigateByUrl("/tracking/invoice")}},{key:"onChangeStatus",value:function(e){this.status=e.value}},{key:"onChangeCompany",value:function(e){this.companyID=e.itemData.id}},{key:"onChangeContainer",value:function(e){this.containerID=e.itemData.id}}]),t}()).\u0275fac=function(e){return new(e||a)(p.Lb(h.a),p.Lb(g.a),p.Lb(v.a),p.Lb(u.a),p.Lb(s.a),p.Lb(s.c))},a.\u0275cmp=p.Fb({type:a,selectors:[["app-invoice-edit"]],decls:84,vars:22,consts:[[1,"card"],[1,"card-body"],[1,"row"],[1,"col-md-4"],[1,"form-group"],["for","Company",1,"font-weight-bold"],["placeholder","Select a company",3,"dataSource","ngModel","fields","allowFiltering","ngModelChange","change"],["companyDropdownlist",""],["for","BL",1,"font-weight-bold"],["type","text","placeholder","Enter the BL No.","id","BL",1,"e-input",3,"ngModel","ngModelChange"],["for","carrier",1,"font-weight-bold"],["type","text","placeholder","Enter the carrier name","id","Carrier",1,"e-input",3,"ngModel","ngModelChange"],["for","Vessel",1,"font-weight-bold"],["type","text","placeholder","Enter the vessel name","id","Vessel",1,"e-input",3,"ngModel","ngModelChange"],["for","No",1,"font-weight-bold"],["type","text","placeholder","Enter the invoice No.","id","No",1,"e-input",3,"ngModel","ngModelChange"],["for","Invoice",1,"font-weight-bold"],["placeholder","Chooes the invoice date",3,"value"],[1,"col-md-12"],["for","description",1,"font-weight-bold"],["type","text","placeholder","Enter the description of goods","id","description",1,"e-input",3,"ngModel","ngModelChange"],["for","ETD",1,"font-weight-bold"],["placeholder","Select ETD",3,"ngModel","ngModelChange"],["for","ETA",1,"font-weight-bold"],["placeholder","Select ETA",3,"ngModel","ngModelChange"],["for","Other1",1,"font-weight-bold"],["type","text","placeholder","Enter the other 1","id","Other1",1,"e-input",3,"ngModel","ngModelChange"],["for","Other2",1,"font-weight-bold"],["type","text","placeholder","Enter the other 2","id","Other2",1,"e-input",3,"ngModel","ngModelChange"],["for","containerNo",1,"font-weight-bold"],["type","text","placeholder","Enter the number of container","id","containerNo",1,"e-input",3,"ngModel","ngModelChange"],["for","Container",1,"font-weight-bold"],["placeholder","Select a container",3,"dataSource","ngModel","fields","allowFiltering","ngModelChange","change"],["containerDropdownlist",""],["for","status",1,"font-weight-bold"],["placeholder","Select the satus",3,"dataSource","ngModel","allowFiltering","ngModelChange","change"],["statusDropdownlist",""],[1,"row","control-panel"],[1,"col-lg-12","d-flex","justify-content-center","align-items-center"],[1,"btn","btn-warning","btn-default","mr-1",3,"click"],[1,"fa","fa-backward",2,"margin-right","5px"],["type","button",1,"btn","btn-primary","btn-default",3,"click"],[1,"fa","fa-floppy-o",2,"margin-right","5px"]],template:function(e,t){1&e&&(p.Rb(0,"div",0),p.Rb(1,"div",1),p.Rb(2,"div",2),p.Rb(3,"div",3),p.Rb(4,"div",4),p.Rb(5,"label",5),p.wc(6,"Company"),p.Qb(),p.Rb(7,"ejs-dropdownlist",6,7),p.Yb("ngModelChange",function(e){return t.companyID=e})("change",function(e){return t.onChangeCompany(e)}),p.Qb(),p.Qb(),p.Qb(),p.Rb(9,"div",3),p.Rb(10,"div",4),p.Rb(11,"label",8),p.wc(12,"BL No."),p.Qb(),p.Rb(13,"input",9),p.Yb("ngModelChange",function(e){return t.invoice.blno=e}),p.Qb(),p.Qb(),p.Qb(),p.Rb(14,"div",3),p.Rb(15,"div",4),p.Rb(16,"label",10),p.wc(17,"Carrier Name"),p.Qb(),p.Rb(18,"input",11),p.Yb("ngModelChange",function(e){return t.invoice.carrier=e}),p.Qb(),p.Qb(),p.Qb(),p.Rb(19,"div",3),p.Rb(20,"div",4),p.Rb(21,"label",12),p.wc(22,"Vessel Name"),p.Qb(),p.Rb(23,"input",13),p.Yb("ngModelChange",function(e){return t.invoice.vesselName=e}),p.Qb(),p.Qb(),p.Qb(),p.Rb(24,"div",3),p.Rb(25,"div",4),p.Rb(26,"label",14),p.wc(27,"Invoice No."),p.Qb(),p.Rb(28,"input",15),p.Yb("ngModelChange",function(e){return t.invoice.invoiceNo=e}),p.Qb(),p.Qb(),p.Qb(),p.Rb(29,"div",3),p.Rb(30,"div",4),p.Rb(31,"label",16),p.wc(32,"Invoice Date"),p.Qb(),p.Mb(33,"ejs-datepicker",17),p.Qb(),p.Qb(),p.Rb(34,"div",18),p.Rb(35,"div",4),p.Rb(36,"label",19),p.wc(37,"Description of goods"),p.Qb(),p.Rb(38,"textarea",20),p.Yb("ngModelChange",function(e){return t.invoice.description=e}),p.Qb(),p.Qb(),p.Qb(),p.Rb(39,"div",3),p.Rb(40,"div",4),p.Rb(41,"label",21),p.wc(42,"ETD"),p.Qb(),p.Rb(43,"ejs-datepicker",22),p.Yb("ngModelChange",function(e){return t.invoice.etd=e}),p.Qb(),p.Qb(),p.Qb(),p.Rb(44,"div",3),p.Rb(45,"div",4),p.Rb(46,"label",23),p.wc(47,"ETA"),p.Qb(),p.Rb(48,"ejs-datepicker",24),p.Yb("ngModelChange",function(e){return t.invoice.eta=e}),p.Qb(),p.Qb(),p.Qb(),p.Rb(49,"div",3),p.Rb(50,"div",4),p.Rb(51,"label",25),p.wc(52,"Other 1"),p.Qb(),p.Rb(53,"input",26),p.Yb("ngModelChange",function(e){return t.invoice.other1=e}),p.Qb(),p.Qb(),p.Qb(),p.Rb(54,"div",3),p.Rb(55,"div",4),p.Rb(56,"label",27),p.wc(57,"Other 2"),p.Qb(),p.Rb(58,"input",28),p.Yb("ngModelChange",function(e){return t.invoice.other2=e}),p.Qb(),p.Qb(),p.Qb(),p.Rb(59,"div",3),p.Rb(60,"div",4),p.Rb(61,"label",29),p.wc(62,"No. of container"),p.Qb(),p.Rb(63,"input",30),p.Yb("ngModelChange",function(e){return t.invoice.containerNo=e}),p.Qb(),p.Qb(),p.Qb(),p.Rb(64,"div",3),p.Rb(65,"div",4),p.Rb(66,"label",31),p.wc(67,"Container"),p.Qb(),p.Rb(68,"ejs-dropdownlist",32,33),p.Yb("ngModelChange",function(e){return t.containerID=e})("change",function(e){return t.onChangeContainer(e)}),p.Qb(),p.Qb(),p.Qb(),p.Rb(70,"div",3),p.Rb(71,"div",4),p.Rb(72,"label",34),p.wc(73,"Status"),p.Qb(),p.Rb(74,"ejs-dropdownlist",35,36),p.Yb("ngModelChange",function(e){return t.status=e})("change",function(e){return t.onChangeStatus(e)}),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.Rb(76,"div",37),p.Rb(77,"div",38),p.Rb(78,"a",39),p.Yb("click",function(){return t.back()}),p.Mb(79,"span",40),p.wc(80," Tr\u1edf V\u1ec1"),p.Qb(),p.Rb(81,"button",41),p.Yb("click",function(){return t.update()}),p.Mb(82,"span",42),p.wc(83," L\u01b0u "),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.Qb()),2&e&&(p.zb(7),p.gc("dataSource",t.companyData)("ngModel",t.companyID)("fields",t.fieldsCompany)("allowFiltering",!0),p.zb(6),p.gc("ngModel",t.invoice.blno),p.zb(5),p.gc("ngModel",t.invoice.carrier),p.zb(5),p.gc("ngModel",t.invoice.vesselName),p.zb(5),p.gc("ngModel",t.invoice.invoiceNo),p.zb(5),p.gc("value",t.invoice.invoiceDate),p.zb(5),p.gc("ngModel",t.invoice.description),p.zb(5),p.gc("ngModel",t.invoice.etd),p.zb(5),p.gc("ngModel",t.invoice.eta),p.zb(5),p.gc("ngModel",t.invoice.other1),p.zb(5),p.gc("ngModel",t.invoice.other2),p.zb(5),p.gc("ngModel",t.invoice.containerNo),p.zb(5),p.gc("dataSource",t.containerData)("ngModel",t.containerID)("fields",t.fieldsContainer)("allowFiltering",!0),p.zb(6),p.gc("dataSource",t.statusData)("ngModel",t.status)("allowFiltering",!0))},directives:[l.a,d.h,d.k,d.b,m.a],styles:[""]}),a),w=["grid"];function R(e,t){if(1&e&&p.wc(0),2&e){var n=t.$implicit,i=p.bc();p.yc(" ",i.NO(n.index)," ")}}function Q(e,t){if(1&e){var n=p.Sb();p.Rb(0,"ejs-dropdownlist",28,29),p.Yb("change",function(e){return p.pc(n),p.bc().onChangeContainer(e)}),p.Qb()}if(2&e){var i=t.$implicit,o=p.bc();p.gc("dataSource",o.containerData)("value",i.containerID)("fields",o.fieldsContainer)("allowFiltering",!0)}}function M(e,t){if(1&e){var n=p.Sb();p.Rb(0,"ejs-dropdownlist",28,30),p.Yb("change",function(e){return p.pc(n),p.bc().onChangeCompany(e)}),p.Qb()}if(2&e){var i=t.$implicit,o=p.bc();p.gc("dataSource",o.companydata)("value",i.companyID)("fields",o.fieldsCompany)("allowFiltering",!0)}}function D(e,t){if(1&e){var n=p.Sb();p.Rb(0,"ejs-dropdownlist",31,32),p.Yb("change",function(e){return p.pc(n),p.bc().onChangeStatus(e)}),p.Qb()}if(2&e){var i=t.$implicit,o=p.bc();p.gc("dataSource",o.statusData)("value",i.statusCode)("allowFiltering",!0)}}function S(e,t){}function k(e,t){}function I(e,t){}function x(e,t){}var A,N,E,T=[{path:"",data:{title:"Invoice"},children:[{path:"",component:(A=function(){function t(n,i,o,a,c){e(this,t),this.invoiceService=n,this.alertify=i,this.companyService=o,this.containerService=a,this.router=c,this.editSettings={showDeleteConfirmDialog:!1,allowEditing:!1,allowAdding:!1,allowDeleting:!0,mode:"Normal"},this.toolbarOptions=["Add Invoice","Delete","Cancel","Search"],this.pageSettings={pageCount:20,pageSizes:!0,pageSize:10},this.fieldsCompany={text:"name",value:"name"},this.fieldsContainer={text:"containerNo",value:"containerNo"},this.filterSettings={type:"Excel"},this.statusData=["Draft DOE","Pending Shipment","Done"]}return n(t,[{key:"ngOnInit",value:function(){this.clearForm(),this.getAll(),this.getAllContainer(),this.getAllCompany()}},{key:"clearForm",value:function(){this.invoice={},this.containerID=null,this.companyID=null,this.status=null}},{key:"getAll",value:function(){var e=this;this.invoiceService.getAllInvoice().subscribe(function(t){e.data=t})}},{key:"getAllCompany",value:function(){var e=this;this.companyService.getAllCompany().subscribe(function(t){e.companydata=t})}},{key:"getAllContainer",value:function(){var e=this;this.containerService.getAllContainer().subscribe(function(t){e.containerData=t})}},{key:"create",value:function(){var e=this;this.invoiceService.create(this.invoice).subscribe(function(){e.alertify.success("Add Action Successfully"),e.getAll(),e.clearForm()})}},{key:"update",value:function(){var e=this;this.invoiceService.update(this.invoice.id,this.invoice).subscribe(function(){e.alertify.success("Add Action Successfully"),e.getAll(),e.clearForm()})}},{key:"delete",value:function(e){var t=this;this.alertify.confirm("Delete action",'Are you sure you want to delete this action "'+e+'" ?',function(){t.invoiceService.delete(e).subscribe(function(){t.getAll(),t.alertify.success("The action has been deleted")},function(e){t.alertify.error("Failed to delete the action")})})}},{key:"recordDoubleClick",value:function(e){this.goToEdit(e.rowData)}},{key:"toolbarClick",value:function(e){switch(e.item.text){case"Excel Export":this.grid.excelExport();break;case"Add Invoice":this.goToAdd()}}},{key:"actionBegin",value:function(e){"save"===e.requestType&&("add"===e.action&&(this.invoice=e.data,this.invoice.id=0,this.invoice.containerID=this.containerID,this.invoice.companyID=this.companyID,this.invoice.statusCode=this.status,this.create()),"edit"===e.action&&(this.invoice=e.data,this.invoice.containerID=this.containerID,this.invoice.containerID=this.containerID,this.invoice.companyID=this.companyID,this.invoice.statusCode=this.status,this.update())),"delete"===e.requestType&&this.delete(e.data[0].id)}},{key:"actionComplete",value:function(e){}},{key:"NO",value:function(e){return(this.grid.pageSettings.currentPage-1)*this.pageSettings.pageSize+Number(e)+1}},{key:"onChangeStatus",value:function(e){this.status=e.value}},{key:"onChangeCompany",value:function(e){this.companyID=e.itemData.id}},{key:"onChangeContainer",value:function(e){this.containerID=e.itemData.id}},{key:"goToEdit",value:function(e){this.router.navigate(["/tracking/invoice/edit/",e.id])}},{key:"goToAdd",value:function(){this.router.navigate(["/tracking/invoice/add"])}}]),t}(),A.\u0275fac=function(e){return new(e||A)(p.Lb(h.a),p.Lb(g.a),p.Lb(u.a),p.Lb(v.a),p.Lb(s.c))},A.\u0275cmp=p.Fb({type:A,selectors:[["app-invoice"]],viewQuery:function(e,t){var n;1&e&&p.Ac(w,1),2&e&&p.mc(n=p.Zb())&&(t.grid=n.first)},decls:44,vars:11,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-title"],["gridLines","Both","allowPaging","true","allowResizing","true","showColumnMenu","true","allowFiltering","true",3,"toolbar","dataSource","allowSorting","allowExcelExport","filterSettings","pageSettings","editSettings","actionBegin","actionComplete","recordDoubleClick","toolbarClick"],["grid",""],["field","id","headerText","#","width","70","textAlign","Center","isPrimaryKey","true"],["template",""],["field","invoiceNo","headerText","Invoice No.","width","200","textAlign","Center"],["field","description","headerText","Description of goods","width","200","textAlign","Center"],["field","containerNo","headerText","No of container","width","200","textAlign","Center"],["field","blno","headerText","BL No.","width","200","textAlign","Center"],["field","vesselName","headerText","Vessel Name","width","200","textAlign","Center"],["field","carrier","headerText","Carrier","width","200","textAlign","Center"],["field","containerCode","headerText","Container","width","200","textAlign","Center"],["editTemplate",""],["field","companyName","headerText","Company","width","200","textAlign","Center"],["field","statusCode","headerText","Status","width","200","textAlign","Center"],["field","eta","headerText","ETA","width","200","textAlign","Center"],["field","etd","headerText","ETD","width","200","textAlign","Center"],["field","other1","headerText","Other 1","width","200","textAlign","Center"],["field","other2","headerText","Other 2","width","200","textAlign","Center"],["field","createdBy","headerText","Created By","width","200","textAlign","Center",3,"visible"],["field","updatedBy","headerText","Updated By","width","200","textAlign","Center",3,"visible"],["field","updatedTime","type","date","format","MM-dd-yyyy","headerText","Updated Time","width","200","textAlign","Center",3,"visible"],["field","createdTime","type","date","format","MM-dd-yyyy HH:mm:ss","headerText","Created Time","width","200","textAlign","Center",3,"visible"],[3,"dataSource","value","fields","allowFiltering","change"],["containerDropdownlist",""],["roleDropdownlist",""],[3,"dataSource","value","allowFiltering","change"],["statusDropdownlist",""]],template:function(e,t){1&e&&(p.Rb(0,"div",0),p.Rb(1,"div",1),p.Rb(2,"div",2),p.Rb(3,"div",3),p.Rb(4,"div",4),p.Rb(5,"h5",5),p.wc(6,"Invoice List"),p.Qb(),p.Qb(),p.Rb(7,"ejs-grid",6,7),p.Yb("actionBegin",function(e){return t.actionBegin(e)})("actionComplete",function(e){return t.actionComplete(e)})("recordDoubleClick",function(e){return t.recordDoubleClick(e)})("toolbarClick",function(e){return t.toolbarClick(e)}),p.Rb(9,"e-columns"),p.Rb(10,"e-column",8),p.uc(11,R,1,1,"ng-template",null,9,p.vc),p.Qb(),p.Mb(13,"e-column",10),p.Mb(14,"e-column",11),p.Mb(15,"e-column",12),p.Mb(16,"e-column",13),p.Mb(17,"e-column",14),p.Mb(18,"e-column",15),p.Rb(19,"e-column",16),p.uc(20,Q,2,4,"ng-template",null,17,p.vc),p.Qb(),p.Rb(22,"e-column",18),p.uc(23,M,2,4,"ng-template",null,17,p.vc),p.Qb(),p.Rb(25,"e-column",19),p.uc(26,D,2,3,"ng-template",null,17,p.vc),p.Qb(),p.Mb(28,"e-column",20),p.Mb(29,"e-column",21),p.Mb(30,"e-column",22),p.Mb(31,"e-column",23),p.Rb(32,"e-column",24),p.uc(33,S,0,0,"ng-template",null,17,p.vc),p.Qb(),p.Rb(35,"e-column",25),p.uc(36,k,0,0,"ng-template",null,17,p.vc),p.Qb(),p.Rb(38,"e-column",26),p.uc(39,I,0,0,"ng-template",null,17,p.vc),p.Qb(),p.Rb(41,"e-column",27),p.uc(42,x,0,0,"ng-template",null,17,p.vc),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.Qb()),2&e&&(p.zb(7),p.gc("toolbar",t.toolbarOptions)("dataSource",t.data)("allowSorting",!0)("allowExcelExport",!0)("filterSettings",t.filterSettings)("pageSettings",t.pageSettings)("editSettings",t.editSettings),p.zb(25),p.gc("visible",!1),p.zb(3),p.gc("visible",!1),p.zb(3),p.gc("visible",!1),p.zb(3),p.gc("visible",!1))},directives:[b.f,b.d,b.b,b.c,b.a,l.a],styles:[""]}),A),data:{title:""}},{path:"add",component:y,data:{title:"Add"}},{path:"edit/:invoiceID",component:C,data:{title:"Edit"}}]}],Y=((E=function t(){e(this,t)}).\u0275fac=function(e){return new(e||E)},E.\u0275mod=p.Jb({type:E}),E.\u0275inj=p.Ib({imports:[[s.g.forChild(T)],s.g]}),E),z=((N=function t(){e(this,t)}).\u0275fac=function(e){return new(e||N)},N.\u0275mod=p.Jb({type:N}),N.\u0275inj=p.Ib({imports:[[r.c,d.f,Y,b.e,l.b,m.b,d.n]]}),N)}}])}();