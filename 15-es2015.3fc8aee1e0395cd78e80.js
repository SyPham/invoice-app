(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{iwVf:function(e,t,i){"use strict";i.r(t),i.d(t,"InvoiceModule",function(){return x});var n=i("jcQU"),o=i("SVse"),a=i("s7LF"),c=i("GJ+o"),l=i("iInd"),r=i("6mwz"),d=i("8Ytj"),b=i("keCR"),s=i("Dg8+"),h=i("HBeN"),g=i("8Y7J"),u=i("ed8r");let p=(()=>{class e{constructor(e,t,i,n,o,a){this.invoiceService=e,this.alertify=t,this.containerService=i,this.companyService=n,this.route=o,this.router=a,this.invoice={},this.statusData=["Draft DOE","Pending Shipment","Done"],this.fieldsCompany={text:"name",value:"id"},this.fieldsContainer={text:"containerNo",value:"id"}}ngOnInit(){this.invoice={id:0,invoiceNo:"",other1:"",other2:"",carrier:"",description:"",vesselName:"",statusCode:"",containerID:null,containerNo:"",blno:"",companyID:null,eta:null,etd:null},this.getAllContainer(),this.getAllCompany()}validator(){return void 0===this.invoice.companyID?(this.alertify.warning("Please select a company!"),!1):""===this.invoice.invoiceNo?(this.alertify.warning("Please enter invoice No.!"),!1):void 0===this.invoice.containerID?(this.alertify.warning("Please select a container!"),!1):void 0!==this.invoice.statusCode&&""!==this.invoice.statusCode||(this.alertify.warning("Please select a status!"),!1)}clearForm(){this.invoice={},this.containerID=null,this.companyID=null,this.status=null}getAllContainer(){this.containerService.getAllContainer().subscribe(e=>{this.containerData=e})}getAllCompany(){this.companyService.getAllCompany().subscribe(e=>{this.companyData=e})}create(){this.invoice.containerID=this.containerID,this.invoice.companyID=this.companyID,this.invoice.statusCode=this.status,this.validator()&&this.invoiceService.create(this.invoice).subscribe(()=>{this.alertify.success(h.c.CREATE_SUCCECCFULLY),this.back(),this.clearForm()},e=>this.alertify.error(h.c.CREATE_FAILED))}back(){this.router.navigateByUrl("/tracking/invoice")}onChangeStatus(e){this.status=e.value,this.invoice.statusCode=this.status}onChangeCompany(e){this.companyID=e.itemData.id,this.invoice.companyID=this.companyID}onChangeContainer(e){this.containerID=e.itemData.id,this.invoice.containerID=this.containerID}}return e.\u0275fac=function(t){return new(t||e)(g.Lb(d.a),g.Lb(b.a),g.Lb(s.a),g.Lb(r.a),g.Lb(l.a),g.Lb(l.c))},e.\u0275cmp=g.Fb({type:e,selectors:[["app-invoice-add"]],decls:87,vars:22,consts:[[1,"card"],[1,"card-body"],[1,"row"],[1,"col-md-4"],[1,"form-group"],["for","Company",1,"font-weight-bold"],["placeholder","Select a company",3,"dataSource","ngModel","fields","allowFiltering","ngModelChange","change"],["companyDropdownlist",""],["for","BL",1,"font-weight-bold"],["type","text","placeholder","Enter the BL No.","id","BL",1,"e-input",3,"ngModel","ngModelChange"],["for","carrier",1,"font-weight-bold"],["type","text","placeholder","Enter the carrier name","id","Carrier",1,"e-input",3,"ngModel","ngModelChange"],["for","Vessel",1,"font-weight-bold"],["type","text","placeholder","Enter the vessel name","id","Vessel",1,"e-input",3,"ngModel","ngModelChange"],["for","No",1,"font-weight-bold"],["type","text","placeholder","Enter the invoice No.","id","No",1,"e-input",3,"ngModel","ngModelChange"],["for","Invoice",1,"font-weight-bold"],["placeholder","Chooes the invoice date",3,"value"],[1,"col-md-12"],["for","description",1,"font-weight-bold"],["type","text","placeholder","Enter the description of goods","id","description",1,"e-input",3,"ngModel","ngModelChange"],["for","ETD",1,"font-weight-bold"],["placeholder","Select ETD",3,"ngModel","ngModelChange"],["for","ETA",1,"font-weight-bold"],["placeholder","Select ETA",3,"ngModel","ngModelChange"],["for","Other1",1,"font-weight-bold"],["type","text","placeholder","Enter the other 1","id","Other1",1,"e-input",3,"ngModel","ngModelChange"],["for","Other2",1,"font-weight-bold"],["type","text","placeholder","Enter the other 2","id","Other2",1,"e-input",3,"ngModel","ngModelChange"],["for","containerNo",1,"font-weight-bold"],["type","text","placeholder","Enter the number of container","id","containerNo",1,"e-input",3,"ngModel","ngModelChange"],["for","Container",1,"font-weight-bold"],["placeholder","Select a container",3,"dataSource","ngModel","fields","allowFiltering","ngModelChange","change"],["containerDropdownlist",""],["for","status",1,"font-weight-bold"],["placeholder","Select the satus",3,"dataSource","ngModel","allowFiltering","ngModelChange","change"],["statusDropdownlist",""],[1,"row","control-panel"],[1,"col-lg-12","d-flex","justify-content-center","align-items-center"],[1,"btn","btn-warning","btn-default","mr-1",3,"click"],[1,"fa","fa-backward",2,"margin-right","5px"],[1,"btn","btn-info","btn-default","mr-1",3,"click"],[1,"fa","fa-remove",2,"margin-right","5px"],["type","button",1,"btn","btn-primary","btn-default",3,"click"],[1,"fa","fa-floppy-o",2,"margin-right","5px"]],template:function(e,t){1&e&&(g.Rb(0,"div",0),g.Rb(1,"div",1),g.Rb(2,"div",2),g.Rb(3,"div",3),g.Rb(4,"div",4),g.Rb(5,"label",5),g.wc(6,"Company"),g.Qb(),g.Rb(7,"ejs-dropdownlist",6,7),g.Yb("ngModelChange",function(e){return t.companyID=e})("change",function(e){return t.onChangeCompany(e)}),g.Qb(),g.Qb(),g.Qb(),g.Rb(9,"div",3),g.Rb(10,"div",4),g.Rb(11,"label",8),g.wc(12,"BL No."),g.Qb(),g.Rb(13,"input",9),g.Yb("ngModelChange",function(e){return t.invoice.blno=e}),g.Qb(),g.Qb(),g.Qb(),g.Rb(14,"div",3),g.Rb(15,"div",4),g.Rb(16,"label",10),g.wc(17,"Carrier Name"),g.Qb(),g.Rb(18,"input",11),g.Yb("ngModelChange",function(e){return t.invoice.carrier=e}),g.Qb(),g.Qb(),g.Qb(),g.Rb(19,"div",3),g.Rb(20,"div",4),g.Rb(21,"label",12),g.wc(22,"Vessel Name"),g.Qb(),g.Rb(23,"input",13),g.Yb("ngModelChange",function(e){return t.invoice.vesselName=e}),g.Qb(),g.Qb(),g.Qb(),g.Rb(24,"div",3),g.Rb(25,"div",4),g.Rb(26,"label",14),g.wc(27,"Invoice No."),g.Qb(),g.Rb(28,"input",15),g.Yb("ngModelChange",function(e){return t.invoice.invoiceNo=e}),g.Qb(),g.Qb(),g.Qb(),g.Rb(29,"div",3),g.Rb(30,"div",4),g.Rb(31,"label",16),g.wc(32,"Invoice Date"),g.Qb(),g.Mb(33,"ejs-datepicker",17),g.Qb(),g.Qb(),g.Rb(34,"div",18),g.Rb(35,"div",4),g.Rb(36,"label",19),g.wc(37,"Description of goods"),g.Qb(),g.Rb(38,"textarea",20),g.Yb("ngModelChange",function(e){return t.invoice.description=e}),g.Qb(),g.Qb(),g.Qb(),g.Rb(39,"div",3),g.Rb(40,"div",4),g.Rb(41,"label",21),g.wc(42,"ETD"),g.Qb(),g.Rb(43,"ejs-datepicker",22),g.Yb("ngModelChange",function(e){return t.invoice.etd=e}),g.Qb(),g.Qb(),g.Qb(),g.Rb(44,"div",3),g.Rb(45,"div",4),g.Rb(46,"label",23),g.wc(47,"ETA"),g.Qb(),g.Rb(48,"ejs-datepicker",24),g.Yb("ngModelChange",function(e){return t.invoice.eta=e}),g.Qb(),g.Qb(),g.Qb(),g.Rb(49,"div",3),g.Rb(50,"div",4),g.Rb(51,"label",25),g.wc(52,"Other 1"),g.Qb(),g.Rb(53,"input",26),g.Yb("ngModelChange",function(e){return t.invoice.other1=e}),g.Qb(),g.Qb(),g.Qb(),g.Rb(54,"div",3),g.Rb(55,"div",4),g.Rb(56,"label",27),g.wc(57,"Other 2"),g.Qb(),g.Rb(58,"input",28),g.Yb("ngModelChange",function(e){return t.invoice.other2=e}),g.Qb(),g.Qb(),g.Qb(),g.Rb(59,"div",3),g.Rb(60,"div",4),g.Rb(61,"label",29),g.wc(62,"No. of container"),g.Qb(),g.Rb(63,"input",30),g.Yb("ngModelChange",function(e){return t.invoice.containerNo=e}),g.Qb(),g.Qb(),g.Qb(),g.Rb(64,"div",3),g.Rb(65,"div",4),g.Rb(66,"label",31),g.wc(67,"Container"),g.Qb(),g.Rb(68,"ejs-dropdownlist",32,33),g.Yb("ngModelChange",function(e){return t.containerID=e})("change",function(e){return t.onChangeContainer(e)}),g.Qb(),g.Qb(),g.Qb(),g.Rb(70,"div",3),g.Rb(71,"div",4),g.Rb(72,"label",34),g.wc(73,"Status"),g.Qb(),g.Rb(74,"ejs-dropdownlist",35,36),g.Yb("ngModelChange",function(e){return t.status=e})("change",function(e){return t.onChangeStatus(e)}),g.Qb(),g.Qb(),g.Qb(),g.Qb(),g.Rb(76,"div",37),g.Rb(77,"div",38),g.Rb(78,"a",39),g.Yb("click",function(){return t.back()}),g.Mb(79,"span",40),g.wc(80," Tr\u1edf V\u1ec1"),g.Qb(),g.Rb(81,"a",41),g.Yb("click",function(){return t.clearForm()}),g.Mb(82,"span",42),g.wc(83," Nh\u1eadp L\u1ea1i"),g.Qb(),g.Rb(84,"button",43),g.Yb("click",function(){return t.create()}),g.Mb(85,"span",44),g.wc(86," L\u01b0u "),g.Qb(),g.Qb(),g.Qb(),g.Qb(),g.Qb()),2&e&&(g.zb(7),g.gc("dataSource",t.companyData)("ngModel",t.companyID)("fields",t.fieldsCompany)("allowFiltering",!0),g.zb(6),g.gc("ngModel",t.invoice.blno),g.zb(5),g.gc("ngModel",t.invoice.carrier),g.zb(5),g.gc("ngModel",t.invoice.vesselName),g.zb(5),g.gc("ngModel",t.invoice.invoiceNo),g.zb(5),g.gc("value",t.invoice.invoiceDate),g.zb(5),g.gc("ngModel",t.invoice.description),g.zb(5),g.gc("ngModel",t.invoice.etd),g.zb(5),g.gc("ngModel",t.invoice.eta),g.zb(5),g.gc("ngModel",t.invoice.other1),g.zb(5),g.gc("ngModel",t.invoice.other2),g.zb(5),g.gc("ngModel",t.invoice.containerNo),g.zb(5),g.gc("dataSource",t.containerData)("ngModel",t.containerID)("fields",t.fieldsContainer)("allowFiltering",!0),g.zb(6),g.gc("dataSource",t.statusData)("ngModel",t.status)("allowFiltering",!0))},directives:[n.a,a.h,a.k,a.b,u.a],styles:[""]}),e})(),v=(()=>{class e{constructor(e,t,i,n,o,a){this.invoiceService=e,this.alertify=t,this.containerService=i,this.companyService=n,this.route=o,this.router=a,this.invoice={},this.statusData=["Draft DOE","Pending Shipment","Done"],this.fieldsCompany={text:"name",value:"id"},this.fieldsContainer={text:"containerNo",value:"id"}}ngOnInit(){this.invoiceID=this.route.snapshot.params.invoiceID,this.getById(),this.getAllContainer(),this.getAllCompany()}clearForm(){this.invoice={},this.containerID=null,this.companyID=null,this.status=null}getById(){this.invoiceService.getById(this.invoiceID).subscribe(e=>{this.invoice=e,this.containerID=this.invoice.containerID,this.companyID=this.invoice.companyID,this.status=this.invoice.statusCode,console.log(e)})}getAllContainer(){this.containerService.getAllContainer().subscribe(e=>{this.containerData=e})}getAllCompany(){this.companyService.getAllCompany().subscribe(e=>{this.companyData=e})}update(){this.invoice.containerID=this.containerID,this.invoice.companyID=this.companyID,this.invoice.statusCode=this.status,this.invoiceService.update(this.invoice.id,this.invoice).subscribe(()=>{this.alertify.success(h.c.UPDATE_SUCCECCFULLY),this.back()},e=>this.alertify.success(h.c.UPDATE_FAILED))}back(){this.router.navigateByUrl("/tracking/invoice")}onChangeStatus(e){this.status=e.value}onChangeCompany(e){this.companyID=e.itemData.id}onChangeContainer(e){this.containerID=e.itemData.id}}return e.\u0275fac=function(t){return new(t||e)(g.Lb(d.a),g.Lb(b.a),g.Lb(s.a),g.Lb(r.a),g.Lb(l.a),g.Lb(l.c))},e.\u0275cmp=g.Fb({type:e,selectors:[["app-invoice-edit"]],decls:84,vars:22,consts:[[1,"card"],[1,"card-body"],[1,"row"],[1,"col-md-4"],[1,"form-group"],["for","Company",1,"font-weight-bold"],["placeholder","Select a company",3,"dataSource","ngModel","fields","allowFiltering","ngModelChange","change"],["companyDropdownlist",""],["for","BL",1,"font-weight-bold"],["type","text","placeholder","Enter the BL No.","id","BL",1,"e-input",3,"ngModel","ngModelChange"],["for","carrier",1,"font-weight-bold"],["type","text","placeholder","Enter the carrier name","id","Carrier",1,"e-input",3,"ngModel","ngModelChange"],["for","Vessel",1,"font-weight-bold"],["type","text","placeholder","Enter the vessel name","id","Vessel",1,"e-input",3,"ngModel","ngModelChange"],["for","No",1,"font-weight-bold"],["type","text","placeholder","Enter the invoice No.","id","No",1,"e-input",3,"ngModel","ngModelChange"],["for","Invoice",1,"font-weight-bold"],["placeholder","Chooes the invoice date",3,"value"],[1,"col-md-12"],["for","description",1,"font-weight-bold"],["type","text","placeholder","Enter the description of goods","id","description",1,"e-input",3,"ngModel","ngModelChange"],["for","ETD",1,"font-weight-bold"],["placeholder","Select ETD",3,"ngModel","ngModelChange"],["for","ETA",1,"font-weight-bold"],["placeholder","Select ETA",3,"ngModel","ngModelChange"],["for","Other1",1,"font-weight-bold"],["type","text","placeholder","Enter the other 1","id","Other1",1,"e-input",3,"ngModel","ngModelChange"],["for","Other2",1,"font-weight-bold"],["type","text","placeholder","Enter the other 2","id","Other2",1,"e-input",3,"ngModel","ngModelChange"],["for","containerNo",1,"font-weight-bold"],["type","text","placeholder","Enter the number of container","id","containerNo",1,"e-input",3,"ngModel","ngModelChange"],["for","Container",1,"font-weight-bold"],["placeholder","Select a container",3,"dataSource","ngModel","fields","allowFiltering","ngModelChange","change"],["containerDropdownlist",""],["for","status",1,"font-weight-bold"],["placeholder","Select the satus",3,"dataSource","ngModel","allowFiltering","ngModelChange","change"],["statusDropdownlist",""],[1,"row","control-panel"],[1,"col-lg-12","d-flex","justify-content-center","align-items-center"],[1,"btn","btn-warning","btn-default","mr-1",3,"click"],[1,"fa","fa-backward",2,"margin-right","5px"],["type","button",1,"btn","btn-primary","btn-default",3,"click"],[1,"fa","fa-floppy-o",2,"margin-right","5px"]],template:function(e,t){1&e&&(g.Rb(0,"div",0),g.Rb(1,"div",1),g.Rb(2,"div",2),g.Rb(3,"div",3),g.Rb(4,"div",4),g.Rb(5,"label",5),g.wc(6,"Company"),g.Qb(),g.Rb(7,"ejs-dropdownlist",6,7),g.Yb("ngModelChange",function(e){return t.companyID=e})("change",function(e){return t.onChangeCompany(e)}),g.Qb(),g.Qb(),g.Qb(),g.Rb(9,"div",3),g.Rb(10,"div",4),g.Rb(11,"label",8),g.wc(12,"BL No."),g.Qb(),g.Rb(13,"input",9),g.Yb("ngModelChange",function(e){return t.invoice.blno=e}),g.Qb(),g.Qb(),g.Qb(),g.Rb(14,"div",3),g.Rb(15,"div",4),g.Rb(16,"label",10),g.wc(17,"Carrier Name"),g.Qb(),g.Rb(18,"input",11),g.Yb("ngModelChange",function(e){return t.invoice.carrier=e}),g.Qb(),g.Qb(),g.Qb(),g.Rb(19,"div",3),g.Rb(20,"div",4),g.Rb(21,"label",12),g.wc(22,"Vessel Name"),g.Qb(),g.Rb(23,"input",13),g.Yb("ngModelChange",function(e){return t.invoice.vesselName=e}),g.Qb(),g.Qb(),g.Qb(),g.Rb(24,"div",3),g.Rb(25,"div",4),g.Rb(26,"label",14),g.wc(27,"Invoice No."),g.Qb(),g.Rb(28,"input",15),g.Yb("ngModelChange",function(e){return t.invoice.invoiceNo=e}),g.Qb(),g.Qb(),g.Qb(),g.Rb(29,"div",3),g.Rb(30,"div",4),g.Rb(31,"label",16),g.wc(32,"Invoice Date"),g.Qb(),g.Mb(33,"ejs-datepicker",17),g.Qb(),g.Qb(),g.Rb(34,"div",18),g.Rb(35,"div",4),g.Rb(36,"label",19),g.wc(37,"Description of goods"),g.Qb(),g.Rb(38,"textarea",20),g.Yb("ngModelChange",function(e){return t.invoice.description=e}),g.Qb(),g.Qb(),g.Qb(),g.Rb(39,"div",3),g.Rb(40,"div",4),g.Rb(41,"label",21),g.wc(42,"ETD"),g.Qb(),g.Rb(43,"ejs-datepicker",22),g.Yb("ngModelChange",function(e){return t.invoice.etd=e}),g.Qb(),g.Qb(),g.Qb(),g.Rb(44,"div",3),g.Rb(45,"div",4),g.Rb(46,"label",23),g.wc(47,"ETA"),g.Qb(),g.Rb(48,"ejs-datepicker",24),g.Yb("ngModelChange",function(e){return t.invoice.eta=e}),g.Qb(),g.Qb(),g.Qb(),g.Rb(49,"div",3),g.Rb(50,"div",4),g.Rb(51,"label",25),g.wc(52,"Other 1"),g.Qb(),g.Rb(53,"input",26),g.Yb("ngModelChange",function(e){return t.invoice.other1=e}),g.Qb(),g.Qb(),g.Qb(),g.Rb(54,"div",3),g.Rb(55,"div",4),g.Rb(56,"label",27),g.wc(57,"Other 2"),g.Qb(),g.Rb(58,"input",28),g.Yb("ngModelChange",function(e){return t.invoice.other2=e}),g.Qb(),g.Qb(),g.Qb(),g.Rb(59,"div",3),g.Rb(60,"div",4),g.Rb(61,"label",29),g.wc(62,"No. of container"),g.Qb(),g.Rb(63,"input",30),g.Yb("ngModelChange",function(e){return t.invoice.containerNo=e}),g.Qb(),g.Qb(),g.Qb(),g.Rb(64,"div",3),g.Rb(65,"div",4),g.Rb(66,"label",31),g.wc(67,"Container"),g.Qb(),g.Rb(68,"ejs-dropdownlist",32,33),g.Yb("ngModelChange",function(e){return t.containerID=e})("change",function(e){return t.onChangeContainer(e)}),g.Qb(),g.Qb(),g.Qb(),g.Rb(70,"div",3),g.Rb(71,"div",4),g.Rb(72,"label",34),g.wc(73,"Status"),g.Qb(),g.Rb(74,"ejs-dropdownlist",35,36),g.Yb("ngModelChange",function(e){return t.status=e})("change",function(e){return t.onChangeStatus(e)}),g.Qb(),g.Qb(),g.Qb(),g.Qb(),g.Rb(76,"div",37),g.Rb(77,"div",38),g.Rb(78,"a",39),g.Yb("click",function(){return t.back()}),g.Mb(79,"span",40),g.wc(80," Tr\u1edf V\u1ec1"),g.Qb(),g.Rb(81,"button",41),g.Yb("click",function(){return t.update()}),g.Mb(82,"span",42),g.wc(83," L\u01b0u "),g.Qb(),g.Qb(),g.Qb(),g.Qb(),g.Qb()),2&e&&(g.zb(7),g.gc("dataSource",t.companyData)("ngModel",t.companyID)("fields",t.fieldsCompany)("allowFiltering",!0),g.zb(6),g.gc("ngModel",t.invoice.blno),g.zb(5),g.gc("ngModel",t.invoice.carrier),g.zb(5),g.gc("ngModel",t.invoice.vesselName),g.zb(5),g.gc("ngModel",t.invoice.invoiceNo),g.zb(5),g.gc("value",t.invoice.invoiceDate),g.zb(5),g.gc("ngModel",t.invoice.description),g.zb(5),g.gc("ngModel",t.invoice.etd),g.zb(5),g.gc("ngModel",t.invoice.eta),g.zb(5),g.gc("ngModel",t.invoice.other1),g.zb(5),g.gc("ngModel",t.invoice.other2),g.zb(5),g.gc("ngModel",t.invoice.containerNo),g.zb(5),g.gc("dataSource",t.containerData)("ngModel",t.containerID)("fields",t.fieldsContainer)("allowFiltering",!0),g.zb(6),g.gc("dataSource",t.statusData)("ngModel",t.status)("allowFiltering",!0))},directives:[n.a,a.h,a.k,a.b,u.a],styles:[""]}),e})();const f=["grid"];function m(e,t){if(1&e&&g.wc(0),2&e){const e=t.$implicit,i=g.bc();g.yc(" ",i.NO(e.index)," ")}}function C(e,t){if(1&e){const e=g.Sb();g.Rb(0,"ejs-dropdownlist",28,29),g.Yb("change",function(t){return g.pc(e),g.bc().onChangeContainer(t)}),g.Qb()}if(2&e){const e=t.$implicit,i=g.bc();g.gc("dataSource",i.containerData)("value",e.containerID)("fields",i.fieldsContainer)("allowFiltering",!0)}}function w(e,t){if(1&e){const e=g.Sb();g.Rb(0,"ejs-dropdownlist",28,30),g.Yb("change",function(t){return g.pc(e),g.bc().onChangeCompany(t)}),g.Qb()}if(2&e){const e=t.$implicit,i=g.bc();g.gc("dataSource",i.companydata)("value",e.companyID)("fields",i.fieldsCompany)("allowFiltering",!0)}}function y(e,t){if(1&e){const e=g.Sb();g.Rb(0,"ejs-dropdownlist",31,32),g.Yb("change",function(t){return g.pc(e),g.bc().onChangeStatus(t)}),g.Qb()}if(2&e){const e=t.$implicit,i=g.bc();g.gc("dataSource",i.statusData)("value",e.statusCode)("allowFiltering",!0)}}function R(e,t){}function Q(e,t){}function M(e,t){}function D(e,t){}const S=[{path:"",data:{title:"Invoice"},children:[{path:"",component:(()=>{class e{constructor(e,t,i,n,o){this.invoiceService=e,this.alertify=t,this.companyService=i,this.containerService=n,this.router=o,this.editSettings={showDeleteConfirmDialog:!1,allowEditing:!1,allowAdding:!1,allowDeleting:!0,mode:"Normal"},this.toolbarOptions=["Add Invoice","Delete","Cancel","Search"],this.pageSettings={pageCount:20,pageSizes:!0,pageSize:10},this.fieldsCompany={text:"name",value:"name"},this.fieldsContainer={text:"containerNo",value:"containerNo"},this.filterSettings={type:"Excel"},this.statusData=["Draft DOE","Pending Shipment","Done"]}ngOnInit(){this.clearForm(),this.getAll(),this.getAllContainer(),this.getAllCompany()}clearForm(){this.invoice={},this.containerID=null,this.companyID=null,this.status=null}getAll(){this.invoiceService.getAllInvoice().subscribe(e=>{this.data=e})}getAllCompany(){this.companyService.getAllCompany().subscribe(e=>{this.companydata=e})}getAllContainer(){this.containerService.getAllContainer().subscribe(e=>{this.containerData=e})}create(){this.invoiceService.create(this.invoice).subscribe(()=>{this.alertify.success("Add Action Successfully"),this.getAll(),this.clearForm()})}update(){this.invoiceService.update(this.invoice.id,this.invoice).subscribe(()=>{this.alertify.success("Add Action Successfully"),this.getAll(),this.clearForm()})}delete(e){this.alertify.confirm("Delete action",'Are you sure you want to delete this action "'+e+'" ?',()=>{this.invoiceService.delete(e).subscribe(()=>{this.getAll(),this.alertify.success("The action has been deleted")},e=>{this.alertify.error("Failed to delete the action")})})}recordDoubleClick(e){this.goToEdit(e.rowData)}toolbarClick(e){switch(e.item.text){case"Excel Export":this.grid.excelExport();break;case"Add Invoice":this.goToAdd()}}actionBegin(e){"save"===e.requestType&&("add"===e.action&&(this.invoice=e.data,this.invoice.id=0,this.invoice.containerID=this.containerID,this.invoice.companyID=this.companyID,this.invoice.statusCode=this.status,this.create()),"edit"===e.action&&(this.invoice=e.data,this.invoice.containerID=this.containerID,this.invoice.containerID=this.containerID,this.invoice.companyID=this.companyID,this.invoice.statusCode=this.status,this.update())),"delete"===e.requestType&&this.delete(e.data[0].id)}actionComplete(e){}NO(e){return(this.grid.pageSettings.currentPage-1)*this.pageSettings.pageSize+Number(e)+1}onChangeStatus(e){this.status=e.value}onChangeCompany(e){this.companyID=e.itemData.id}onChangeContainer(e){this.containerID=e.itemData.id}goToEdit(e){this.router.navigate(["/tracking/invoice/edit/",e.id])}goToAdd(){this.router.navigate(["/tracking/invoice/add"])}}return e.\u0275fac=function(t){return new(t||e)(g.Lb(d.a),g.Lb(b.a),g.Lb(r.a),g.Lb(s.a),g.Lb(l.c))},e.\u0275cmp=g.Fb({type:e,selectors:[["app-invoice"]],viewQuery:function(e,t){if(1&e&&g.Ac(f,1),2&e){let e;g.mc(e=g.Zb())&&(t.grid=e.first)}},decls:44,vars:11,consts:[[1,"animated","fadeIn"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-title"],["gridLines","Both","allowPaging","true","allowResizing","true","showColumnMenu","true","allowFiltering","true",3,"toolbar","dataSource","allowSorting","allowExcelExport","filterSettings","pageSettings","editSettings","actionBegin","actionComplete","recordDoubleClick","toolbarClick"],["grid",""],["field","id","headerText","#","width","70","textAlign","Center","isPrimaryKey","true"],["template",""],["field","invoiceNo","headerText","Invoice No.","width","200","textAlign","Center"],["field","description","headerText","Description of goods","width","200","textAlign","Center"],["field","containerNo","headerText","No of container","width","200","textAlign","Center"],["field","blno","headerText","BL No.","width","200","textAlign","Center"],["field","vesselName","headerText","Vessel Name","width","200","textAlign","Center"],["field","carrier","headerText","Carrier","width","200","textAlign","Center"],["field","containerCode","headerText","Container","width","200","textAlign","Center"],["editTemplate",""],["field","companyName","headerText","Company","width","200","textAlign","Center"],["field","statusCode","headerText","Status","width","200","textAlign","Center"],["field","eta","headerText","ETA","width","200","textAlign","Center"],["field","etd","headerText","ETD","width","200","textAlign","Center"],["field","other1","headerText","Other 1","width","200","textAlign","Center"],["field","other2","headerText","Other 2","width","200","textAlign","Center"],["field","createdBy","headerText","Created By","width","200","textAlign","Center",3,"visible"],["field","updatedBy","headerText","Updated By","width","200","textAlign","Center",3,"visible"],["field","updatedTime","type","date","format","MM-dd-yyyy","headerText","Updated Time","width","200","textAlign","Center",3,"visible"],["field","createdTime","type","date","format","MM-dd-yyyy HH:mm:ss","headerText","Created Time","width","200","textAlign","Center",3,"visible"],[3,"dataSource","value","fields","allowFiltering","change"],["containerDropdownlist",""],["roleDropdownlist",""],[3,"dataSource","value","allowFiltering","change"],["statusDropdownlist",""]],template:function(e,t){1&e&&(g.Rb(0,"div",0),g.Rb(1,"div",1),g.Rb(2,"div",2),g.Rb(3,"div",3),g.Rb(4,"div",4),g.Rb(5,"h5",5),g.wc(6,"Invoice List"),g.Qb(),g.Qb(),g.Rb(7,"ejs-grid",6,7),g.Yb("actionBegin",function(e){return t.actionBegin(e)})("actionComplete",function(e){return t.actionComplete(e)})("recordDoubleClick",function(e){return t.recordDoubleClick(e)})("toolbarClick",function(e){return t.toolbarClick(e)}),g.Rb(9,"e-columns"),g.Rb(10,"e-column",8),g.uc(11,m,1,1,"ng-template",null,9,g.vc),g.Qb(),g.Mb(13,"e-column",10),g.Mb(14,"e-column",11),g.Mb(15,"e-column",12),g.Mb(16,"e-column",13),g.Mb(17,"e-column",14),g.Mb(18,"e-column",15),g.Rb(19,"e-column",16),g.uc(20,C,2,4,"ng-template",null,17,g.vc),g.Qb(),g.Rb(22,"e-column",18),g.uc(23,w,2,4,"ng-template",null,17,g.vc),g.Qb(),g.Rb(25,"e-column",19),g.uc(26,y,2,3,"ng-template",null,17,g.vc),g.Qb(),g.Mb(28,"e-column",20),g.Mb(29,"e-column",21),g.Mb(30,"e-column",22),g.Mb(31,"e-column",23),g.Rb(32,"e-column",24),g.uc(33,R,0,0,"ng-template",null,17,g.vc),g.Qb(),g.Rb(35,"e-column",25),g.uc(36,Q,0,0,"ng-template",null,17,g.vc),g.Qb(),g.Rb(38,"e-column",26),g.uc(39,M,0,0,"ng-template",null,17,g.vc),g.Qb(),g.Rb(41,"e-column",27),g.uc(42,D,0,0,"ng-template",null,17,g.vc),g.Qb(),g.Qb(),g.Qb(),g.Qb(),g.Qb(),g.Qb(),g.Qb()),2&e&&(g.zb(7),g.gc("toolbar",t.toolbarOptions)("dataSource",t.data)("allowSorting",!0)("allowExcelExport",!0)("filterSettings",t.filterSettings)("pageSettings",t.pageSettings)("editSettings",t.editSettings),g.zb(25),g.gc("visible",!1),g.zb(3),g.gc("visible",!1),g.zb(3),g.gc("visible",!1),g.zb(3),g.gc("visible",!1))},directives:[c.f,c.d,c.b,c.c,c.a,n.a],styles:[""]}),e})(),data:{title:""}},{path:"add",component:p,data:{title:"Add"}},{path:"edit/:invoiceID",component:v,data:{title:"Edit"}}]}];let I=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.Jb({type:e}),e.\u0275inj=g.Ib({imports:[[l.g.forChild(S)],l.g]}),e})(),x=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.Jb({type:e}),e.\u0275inj=g.Ib({imports:[[o.c,a.f,I,c.e,n.b,u.b,a.n]]}),e})()}}]);